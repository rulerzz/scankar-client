<div class="col-12">
  <!--begin::Advance Table Widget 2-->
  <div class="card card-custom card-stretch gutter-b">
    <!--begin::Header-->
    <div class="card-header border-0 pt-5">
      <h3 class="card-title align-items-start flex-column">
        <span class="card-label font-weight-bolder text-dark">Other Orders</span>
        <span class="text-muted mt-3 font-weight-bold font-size-sm"></span>
      </h3>
    </div>
    <!--end::Header-->
    <!--begin::Body-->
    <div class="card-body pt-2 pb-20 mt-n3">
      <div class="tab-content mt-5" id="myTabTables11">
        <div class="container">
          <div class="row">
              <div class="col-12">
                <div class="example-container mat-elevation-z8">
                 <table
              mat-table
              [dataSource]="dataSource"
              multiTemplateDataRows
              class="example-table"
            >
              <ng-container matColumnDef="userName">
                <th mat-header-cell *matHeaderCellDef sticky>User Name</th>
                <td mat-cell *matCellDef="let row">
                    {{ row?.booker ? row?.booker : "N/A" }}
                </td>
              </ng-container>
              <ng-container matColumnDef="mobileNumber">
                <th mat-header-cell *matHeaderCellDef sticky>Phone</th>
                <td mat-cell *matCellDef="let row">
                    {{ row?.userId?.mobileNumber ? row?.userId?.mobileNumber : "N/A" }}
                </td>
              </ng-container>
              <ng-container matColumnDef="orderType">
                <th mat-header-cell *matHeaderCellDef sticky>Order Type</th>
                <td mat-cell *matCellDef="let row">
                   <span
                    class="label label-lg label-light-success label-inline"
                    *ngIf="row.orderType === 'Dine In'"
                    >Dine In</span
                  >
                  <span
                    class="label label-lg label-light-warning label-inline"
                    *ngIf="row.orderType === 'Take Home'"
                    >Take Home</span
                  >
                  <span
                    class="label label-lg label-light-primary label-inline"
                    *ngIf="row.orderType === 'Delivery'"
                    >Delivery</span
                  >
                </td>
              </ng-container>
              <ng-container matColumnDef="expandedDetail">
                 <th mat-header-cell *matHeaderCellDef >
                </th>
              <td mat-cell *matCellDef="let row" [attr.colspan]="8">
                <div class="example-element-detail"
                    [@detailExpand]="row == expandedElement ? 'expanded' : 'collapsed'" *ngIf="row.items.length !== 0">
                     <b>Special Instructions : </b><p class="text-dark-75 font-size-lg font-weight-normal mb-2" *ngIf="row.instruction !== ''">&nbsp;{{row.instruction}} </p>
                </div>
                  <div class="example-element-detail"
                    [@detailExpand]="row == expandedElement ? 'expanded' : 'collapsed'" *ngIf="row.items.length == 0">
                     <b>Special Instructions : </b><p class="text-dark-75 font-size-lg font-weight-normal mb-2" *ngIf="row.instruction !== ''">&nbsp;{{row.instruction}} </p>
                </div>
              </td>
            </ng-container>
              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef >
                  Status
                </th>
                <td mat-cell *matCellDef="let row">
               
                  <span
                    class="label label-lg label-light-warning label-inline"
                    *ngIf="row.status === 'Placed'"
                    >Placed</span
                  >
                  <span
                    class="label label-lg label-light-success label-inline"
                    *ngIf="row.status === 'Billed'"
                    >Billed</span
                  >
                   <span
                    class="label label-lg label-light-success label-inline"
                    *ngIf="row.status === 'Closed'"
                    >Closed</span
                  >
                  <span
                    class="label label-lg label-light-success label-inline"
                    *ngIf="row.status === 'Rejected'"
                    >Rejected</span
                  >
                </td>
              </ng-container>

              <ng-container matColumnDef="process" sticky>
                <th mat-header-cell *matHeaderCellDef >Process</th>
                <td mat-cell *matCellDef="let row">
                  <span
                    class="label label-lg label-light-primary label-inline"
                    *ngIf="row.process === 'Pending'"
                    >Pending</span
                  >
                  <span
                    class="label label-lg label-light-warning label-inline"
                    *ngIf="row.process === 'Running'"
                    >Running</span
                  >
                   <span
                    class="label label-lg label-light-success label-inline"
                    *ngIf="row.process === 'Completed'"
                    >Completed</span
                  >
                  <span
                    class="label label-lg label-light-success label-inline"
                    *ngIf="row.process === 'Delivered'"
                    >Delivered</span
                  >
                  <span
                    class="label label-lg label-light-success label-inline"
                    *ngIf="row.process === 'Rejected'"
                    >Rejected</span
                  >
                </td>
              </ng-container>

              <ng-container matColumnDef="instruction" style="min-width: 40px">
                <th mat-header-cell *matHeaderCellDef >Instruction</th>
                <td mat-cell *matCellDef="let row">
                 {{ row.instruction }}
                </td>
              </ng-container>
              <ng-container matColumnDef="price">
                <th mat-header-cell *matHeaderCellDef >
                  Price
                </th>
                <td mat-cell *matCellDef="let row">
                <i class="fa fa-inr"></i> {{row.price}}
                </td>
              </ng-container>
               <ng-container matColumnDef="palced_time">
                <th mat-header-cell *matHeaderCellDef >
                  Time
                </th>
                <td mat-cell *matCellDef="let row">
                 {{row.placed_time | date:'shortTime'}}
                </td>
              </ng-container>
              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef>Action</th>
                <td mat-cell *matCellDef="let row">
                   <button mat-raised-button (click)="view(row)" color="primary">View</button>
                </td>
              </ng-container>
              <ng-container matColumnDef="star" stickyEnd >
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let element">
                      <mat-icon>more_vert</mat-icon>
                    </td>
                  </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

              <!-- Row shown when there is no matching data. -->
              <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="8">No data!</td>
              </tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"
      class="example-element-row"
      [class.example-expanded-row]="expandedElement === row"
      (click)="expandedElement = expandedElement === row ? null : row">
  </tr>
  <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
            </table>
            </div>
              </div>
              <!--div class="col-12 " *ngIf="checkOrder()">
                    <div class="table-responsive">
													<table class="table">
														<thead>
															<tr>
                                <th class="pl-0 font-weight-bold text-muted text-uppercase">Item</th>
                                <th class="text-right font-weight-bold text-muted text-uppercase">Config</th>
                                <th class="text-right font-weight-bold text-muted text-uppercase">Addons</th>
																<th class="text-right font-weight-bold text-muted text-uppercase">Quantity</th>
                                <th class="text-right font-weight-bold text-muted text-uppercase">Price</th>
                                <th class="text-right font-weight-bold text-muted text-uppercase">CGST</th>
                                <th class="text-right font-weight-bold text-muted text-uppercase">SGST</th>
                                <th class="text-right font-weight-bold text-muted text-uppercase">Service Charge</th>
																<th class="text-right pr-0 font-weight-bold text-muted text-uppercase">Final</th>
															</tr>
														</thead>
														<tbody>
															<tr class="font-weight-boldest font-size-lg" *ngFor="let item of selectedOder.items">
                                <td class="pl-0 pt-7">{{item.name}}</td>
                                <td class="text-right pt-7">{{getName(item)}}</td>
                                <td class="text-right pt-7"><a *ngIf="getAddonAmount(item) > 0" class="anchor" (click)="showaddons(item)">View</a>&nbsp;<i class="fas fa-inr"></i>&nbsp;{{getAddonAmount(item)}}</td>
                                <td class="text-right pt-7">{{item.quantity}}</td>
																<td class="text-right pt-7"><i class="fas fa-inr"></i>&nbsp;{{getPrice(item)}}</td>
                                <td class="text-danger pr-0 pt-7 text-right"><i class="fas fa-inr"></i>&nbsp;{{getCgst(item)}}</td>
                                <td class="text-danger pr-0 pt-7 text-right"><i class="fas fa-inr"></i>&nbsp;{{getSgst(item)}}</td>
                                <td class="text-danger pr-0 pt-7 text-right"><i class="fas fa-inr"></i>&nbsp;{{getServiceCharges(item)}}</td>
                                <td class="text-danger pr-0 pt-7 text-right"><i class="fas fa-inr"></i>&nbsp;{{getFinalPrice(item)}}</td>
                              </tr>
                               <tr class="font-weight-boldest font-size-lg" *ngIf="selectedOder.orderType == 'Delivery' || selectedOder.orderType == 'Take Home'">
																<td class="pl-0 pt-7">Address</td>
																<td colspan="8" class="text-danger pr-0 pt-7 text-right">{{selectedOder.address}}</td>
                              </tr>	
                              <tr class="font-weight-boldest font-size-lg" *ngIf="selectedOder.discount > 0">
																<td class="pl-0 pt-7">Discount</td>
                                <td class="text-right pt-7"></td>
                                <td class="text-right pt-7"></td>
                                <td class="text-right pt-7"></td>
                                <td class="text-right pt-7"></td>
                                <td class="text-right pt-7"></td>
                                <td class="text-right pt-7"></td>
                                <td class="text-right pt-7"></td>
																<td class="text-danger pr-0 pt-7 text-right"><i class="fas fa-inr"></i>&nbsp;{{selectedOder.discount}}</td>
                              </tr>	
                              <tr class="font-weight-boldest font-size-lg">
																<td class="pl-0 pt-7">Total</td>
                                <td class="text-right pt-7"></td>
                                <td class="text-right pt-7"></td>
                                <td class="text-right pt-7"></td>
                                <td class="text-right pt-7"></td>
                                <td class="text-right pt-7"></td>
                                <td class="text-right pt-7"></td>
                                <td class="text-right pt-7"></td>
																<td class="text-danger pr-0 pt-7 text-right"><i class="fas fa-inr"></i>&nbsp;{{totalAmount}}</td>
                              </tr>
														</tbody>
													</table>
                        </div>
                         <button class="btn btn-secondary" style="float:right;margin-left:15px;" (click)="edit()">Edit</button><button class="btn btn-primary" style="float:right;margin-left:15px;" (click)="closeorder()">Close Order</button><button class="btn btn-primary" style="float:right;" (click)="generateBill()">View Bill</button>
              </div-->
          </div>
        </div>
      </div>
    </div>
    <!--end::Body-->
  </div>
  <!--end::Advance Table Widget 2-->
</div>

